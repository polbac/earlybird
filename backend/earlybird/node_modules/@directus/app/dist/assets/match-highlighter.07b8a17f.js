import{bn as t,bo as e}from"./vendor.cc2194d4.js";var o={};!function(t){var e={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};function o(t){for(var o in this.options={},e)this.options[o]=(t&&t.hasOwnProperty(o)?t:e)[o];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}function n(t){var e=t.state.matchHighlighter;(e.active||t.hasFocus())&&r(t,e)}function i(t){var e=t.state.matchHighlighter;e.active||(e.active=!0,r(t,e))}function r(t,e){clearTimeout(e.timeout),e.timeout=setTimeout((function(){l(t)}),e.options.delay)}function a(t,e,o,n){var i=t.state.matchHighlighter;if(t.addOverlay(i.overlay=g(e,o,n)),i.options.annotateScrollbar&&t.showMatchesOnScrollbar){var r=o?new RegExp((/\w/.test(e.charAt(0))?"\\b":"")+e.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+(/\w/.test(e.charAt(e.length-1))?"\\b":"")):e;i.matchesonscroll=t.showMatchesOnScrollbar(r,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function s(t){var e=t.state.matchHighlighter;e.overlay&&(t.removeOverlay(e.overlay),e.overlay=null,e.matchesonscroll&&(e.matchesonscroll.clear(),e.matchesonscroll=null))}function l(t){t.operation((function(){var e=t.state.matchHighlighter;if(s(t),t.somethingSelected()||!e.options.showToken){var o=t.getCursor("from"),n=t.getCursor("to");if(o.line==n.line&&(!e.options.wordsOnly||c(t,o,n))){var i=t.getRange(o,n);e.options.trim&&(i=i.replace(/^\s+|\s+$/g,"")),i.length>=e.options.minChars&&a(t,i,!1,e.options.style)}}else{for(var r=!0===e.options.showToken?/[\w$]/:e.options.showToken,l=t.getCursor(),h=t.getLine(l.line),g=l.ch,u=g;g&&r.test(h.charAt(g-1));)--g;for(;u<h.length&&r.test(h.charAt(u));)++u;g<u&&a(t,h.slice(g,u),r,e.options.style)}}))}function c(t,e,o){if(null!==t.getRange(e,o).match(/^\w+$/)){if(e.ch>0){var n={line:e.line,ch:e.ch-1};if(null===t.getRange(n,e).match(/\W/))return!1}return!(o.ch<t.getLine(e.line).length&&(n={line:o.line,ch:o.ch+1},null===t.getRange(o,n).match(/\W/)))}return!1}function h(t,e){return!(t.start&&e.test(t.string.charAt(t.start-1))||t.pos!=t.string.length&&e.test(t.string.charAt(t.pos)))}function g(t,e,o){return{token:function(n){if(n.match(t)&&(!e||h(n,e)))return o;n.next(),n.skipTo(t.charAt(0))||n.skipToEnd()}}}t.defineOption("highlightSelectionMatches",!1,(function(e,r,a){if(a&&a!=t.Init&&(s(e),clearTimeout(e.state.matchHighlighter.timeout),e.state.matchHighlighter=null,e.off("cursorActivity",n),e.off("focus",i)),r){var c=e.state.matchHighlighter=new o(r);e.hasFocus()?(c.active=!0,l(e)):e.on("focus",i),e.on("cursorActivity",n)}}))}(t.exports,e.exports);var n=o,i=Object.freeze(Object.assign(Object.create(null),o,{[Symbol.toStringTag]:"Module",default:n}));export{i as m};
