var n="# Custom Migrations\n\n> Directus allows adding custom migration files that run whenever the `directus database migrate:*` commands are\n> executed. All migrations must reside in the `extensions/migrations` folder.\n\n## File Name\n\nThe file name follows the following structure:\n\n```\n[identifier]-[name].js\n```\n\nfor example:\n\n```\n20201202A-my-custom-migration.js\n```\n\n## Structure\n\nMigrations have to export an `up` and a `down` function. These functions get a [Knex](http://knexjs.org) instance that\ncan be used to do virtually whatever.\n\n```js\nmodule.exports = {\n\tasync up(knex) {\n\t\tawait knex.schema.createTable('test', (table) => {\n\t\t\ttable.increments();\n\t\t\ttable.string('rijk');\n\t\t});\n\t},\n\n\tasync down(knex) {\n\t\tawait knex.schema.dropTable('test');\n\t},\n};\n```\n\n::: danger Danger\n\nSeeing that these migrations are a bit of a free-for-all, you can really harm your database. Please make sure you know\nwhat you're doing and backup your database before adding these migrations.\n\n:::\n";export{n as default};
