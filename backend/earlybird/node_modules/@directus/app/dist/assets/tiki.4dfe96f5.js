import{bn as e}from"./vendor.cc2194d4.js";var t,n={};(t=e.exports).defineMode("tiki",(function(e){function t(e,t,n){return function(i,a){for(;!i.eol();){if(i.match(t)){a.tokenize=r;break}i.next()}return n&&(a.tokenize=n),e}}function n(e){return function(t,n){for(;!t.eol();)t.next();return n.tokenize=r,e}}function r(e,i){function a(t){return i.tokenize=t,t(e,i)}var o=e.sol(),u=e.next();switch(u){case"{":return e.eat("/"),e.eatSpace(),e.eatWhile(/[^\s\u00a0=\"\'\/?(}]/),i.tokenize=f,"tag";case"_":if(e.eat("_"))return a(t("strong","__",r));break;case"'":if(e.eat("'"))return a(t("em","''",r));break;case"(":if(e.eat("("))return a(t("variable-2","))",r));break;case"[":return a(t("variable-3","]",r));case"|":if(e.eat("|"))return a(t("comment","||"));break;case"-":if(e.eat("="))return a(t("header string","=-",r));if(e.eat("-"))return a(t("error tw-deleted","--",r));break;case"=":if(e.match("=="))return a(t("tw-underline","===",r));break;case":":if(e.eat(":"))return a(t("comment","::"));break;case"^":return a(t("tw-box","^"));case"~":if(e.match("np~"))return a(t("meta","~/np~"))}if(o)switch(u){case"!":return e.match("!!!!!")||e.match("!!!!")||e.match("!!!")||e.match("!!"),a(n("header string"));case"*":case"#":case"+":return a(n("tw-listitem bracket"))}return null}var i,a,o,u,c=e.indentUnit;function f(e,t){var n=e.next(),i=e.peek();return"}"==n?(t.tokenize=r,"tag"):"("==n||")"==n?"bracket":"="==n?(a="equals",">"==i&&(e.next(),i=e.peek()),/[\'\"]/.test(i)||(t.tokenize=l()),"operator"):/[\'\"]/.test(n)?(t.tokenize=s(n),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=\"\'\/?]/),"keyword")}function s(e){return function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=f;break}return"string"}}function l(){return function(e,t){for(;!e.eol();){var n=e.next(),r=e.peek();if(" "==n||","==n||/[ )}]/.test(r)){t.tokenize=f;break}}return"string"}}function k(){for(var e=arguments.length-1;e>=0;e--)o.cc.push(arguments[e])}function d(){return k.apply(null,arguments),!0}function g(e,t){var n=o.context&&o.context.noIndent;o.context={prev:o.context,pluginName:e,indent:o.indented,startOfLine:t,noIndent:n}}function p(){o.context&&(o.context=o.context.prev)}function m(e){if("openPlugin"==e)return o.pluginName=i,d(v,x(o.startOfLine));if("closePlugin"==e){var t=!1;return o.context?(t=o.context.pluginName!=i,p()):t=!0,t&&(u="error"),d(b(t))}return"string"==e?(o.context&&"!cdata"==o.context.name||g("!cdata"),o.tokenize==r&&p(),d()):d()}function x(e){return function(t){return"selfclosePlugin"==t||"endPlugin"==t?d():"endPlugin"==t?(g(o.pluginName,e),d()):d()}}function b(e){return function(t){return e&&(u="error"),"endPlugin"==t?d():k()}}function v(e){return"keyword"==e?(u="attribute",d(v)):"equals"==e?d(h,v):k()}function h(e){return"keyword"==e?(u="string",d()):"string"==e?d(z):k()}function z(e){return"string"==e?d(z):k()}return{startState:function(){return{tokenize:r,cc:[],indented:0,startOfLine:!0,pluginName:null,context:null}},token:function(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;u=a=i=null;var n=t.tokenize(e,t);if((n||a)&&"comment"!=n)for(o=t;!(t.cc.pop()||m)(a||n););return t.startOfLine=!1,u||n},indent:function(e,t){var n=e.context;if(n&&n.noIndent)return 0;for(n&&/^{\//.test(t)&&(n=n.prev);n&&!n.startOfLine;)n=n.prev;return n?n.indent+c:0},electricChars:"/"}})),t.defineMIME("text/tiki","tiki");var r=n,i=Object.freeze(Object.assign(Object.create(null),n,{[Symbol.toStringTag]:"Module",default:r}));export{i as t};
