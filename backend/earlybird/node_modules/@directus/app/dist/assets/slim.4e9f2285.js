import{bn as t}from"./vendor.cc2194d4.js";import{a as e}from"./htmlmixed.4125bbe9.js";import{a as n}from"./ruby.fdc59711.js";var i,r={};i=t.exports,e.exports,n.exports,i.defineMode("slim",(function(t){var e=i.getMode(t,{name:"htmlmixed"}),n=i.getMode(t,"ruby"),r={html:e,ruby:n},o={ruby:"ruby",javascript:"javascript",css:"text/css",sass:"text/x-sass",scss:"text/x-scss",less:"text/x-less",styl:"text/x-styl",coffee:"coffeescript",asciidoc:"text/x-asciidoc",markdown:"text/x-markdown",textile:"text/x-textile",creole:"text/x-creole",wiki:"text/x-wiki",mediawiki:"text/x-mediawiki",rdoc:"text/x-rdoc",builder:"text/x-builder",nokogiri:"text/x-nokogiri",erb:"application/x-erb"},a=function(t){var e=[];for(var n in t)e.push(n);return new RegExp("^("+e.join("|")+"):")}(o),u={commentLine:"comment",slimSwitch:"operator special",slimTag:"tag",slimId:"attribute def",slimClass:"attribute qualifier",slimAttribute:"attribute",slimSubmode:"keyword special",closeAttributeTag:null,slimDoctype:null,lineContinuation:null},c={"{":"}","[":"]","(":")"},s="_a-zA-ZÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",l=s+"\\-0-9·̀-ͯ‿-⁀",k=new RegExp("^[:"+s+"](?::["+l+"]|["+l+"]*)"),d=new RegExp("^[:"+s+"][:\\."+l+"]*(?=\\s*=)"),m=new RegExp("^[:"+s+"][:\\."+l+"]*"),f=/^\.-?[_a-zA-Z]+[\w\-]*/,b=/^#[_a-zA-Z]+[\w\-]*/;function z(t,e,n){var i=function(i,r){return r.tokenize=e,i.pos<t?(i.pos=t,n):r.tokenize(i,r)};return function(t,n){return n.tokenize=i,e(t,n)}}function p(t,e,n,i,r){var o=t.current(),a=o.search(n);return a>-1&&(e.tokenize=z(t.pos,e.tokenize,r),t.backUp(o.length-a-i)),r}function x(t,e){t.stack={parent:t.stack,style:"continuation",indented:e,tokenize:t.line},t.line=t.tokenize}function h(t){t.line==t.tokenize&&(t.line=t.stack.tokenize,t.stack=t.stack.parent)}function S(t,e){return function(n,i){if(h(i),n.match(/^\\$/))return x(i,t),"lineContinuation";var r=e(n,i);return n.eol()&&n.current().match(/(?:^|[^\\])(?:\\\\)*\\$/)&&n.backUp(1),r}}function y(t,e){return function(n,i){h(i);var r=e(n,i);return n.eol()&&n.current().match(/,$/)&&x(i,t),r}}function g(t,e){return function(n,i){return n.peek()==t&&1==i.rubyState.tokenize.length?(n.next(),i.tokenize=e,"closeAttributeTag"):w(n,i)}}function v(t){var e,r=function(n,i){if(1==i.rubyState.tokenize.length&&!i.rubyState.context.prev){if(n.backUp(1),n.eatSpace())return i.rubyState=e,i.tokenize=t,t(n,i);n.next()}return w(n,i)};return function(t,o){return e=o.rubyState,o.rubyState=i.startState(n),o.tokenize=r,w(t,o)}}function w(t,e){return n.token(t,e.rubyState)}function M(t,e){return t.match(/^\\$/)?"lineContinuation":C(t,e)}function C(t,n){return t.match(/^#\{/)?(n.tokenize=g("}",n.tokenize),null):p(t,n,/[^\\]#\{/,1,e.token(t,n.htmlState))}function j(t){return function(e,n){var i=M(e,n);return e.eol()&&(n.tokenize=t),i}}function E(t,e,n){return e.stack={parent:e.stack,style:"html",indented:t.column()+n,tokenize:e.line},e.line=e.tokenize=C,null}function A(t,e){return t.skipToEnd(),e.stack.style}function O(t,e){return e.stack={parent:e.stack,style:"comment",indented:e.indented+1,tokenize:e.line},e.line=A,A(t,e)}function L(t,e){return t.eat(e.stack.endQuote)?(e.line=e.stack.line,e.tokenize=e.stack.tokenize,e.stack=e.stack.parent,null):t.match(m)?(e.tokenize=T,"slimAttribute"):(t.next(),null)}function T(t,e){return t.match(/^==?/)?(e.tokenize=$,null):L(t,e)}function $(t,e){var n=t.peek();return'"'==n||"'"==n?(e.tokenize=N(n,"string",!0,!1,L),t.next(),e.tokenize(t,e)):"["==n?v(L)(t,e):t.match(/^(true|false|nil)\b/)?(e.tokenize=L,"keyword"):v(L)(t,e)}function U(t,e,n){return t.stack={parent:t.stack,style:"wrapper",indented:t.indented+1,tokenize:n,line:t.line,endQuote:e},t.line=t.tokenize=L,null}function R(t,e){if(t.match(/^#\{/))return e.tokenize=g("}",e.tokenize),null;var n=new i.StringStream(t.string.slice(e.stack.indented),t.tabSize);n.pos=t.pos-e.stack.indented,n.start=t.start-e.stack.indented,n.lastColumnPos=t.lastColumnPos-e.stack.indented,n.lastColumnValue=t.lastColumnValue-e.stack.indented;var r=e.subMode.token(n,e.subState);return t.pos=n.pos+e.stack.indented,r}function I(t,e){return e.stack.indented=t.column(),e.line=e.tokenize=R,e.tokenize(t,e)}function P(e){var n=o[e],r=i.mimeModes[n];if(r)return i.getMode(t,r);var a=i.modes[n];return a?a(t,{name:n}):i.getMode(t,"null")}function Z(t){return r.hasOwnProperty(t)?r[t]:r[t]=P(t)}function _(t,e){var n=Z(t),r=i.startState(n);return e.subMode=n,e.subState=r,e.stack={parent:e.stack,style:"sub",indented:e.indented+1,tokenize:e.line},e.line=e.tokenize=I,"slimSubmode"}function D(t,e){return t.skipToEnd(),"slimDoctype"}function Q(t,e){if("<"==t.peek())return(e.tokenize=j(e.tokenize))(t,e);if(t.match(/^[|']/))return E(t,e,1);if(t.match(/^\/(!|\[\w+])?/))return O(t,e);if(t.match(/^(-|==?[<>]?)/))return e.tokenize=S(t.column(),y(t.column(),w)),"slimSwitch";if(t.match(/^doctype\b/))return e.tokenize=D,"keyword";var n=t.match(a);return n?_(n[1],e):q(t,e)}function V(t,e){return e.startOfLine?Q(t,e):q(t,e)}function q(t,e){return t.eat("*")?(e.tokenize=v(B),null):t.match(k)?(e.tokenize=B,"slimTag"):F(t,e)}function B(t,e){return t.match(/^(<>?|><?)/)?(e.tokenize=F,null):F(t,e)}function F(t,e){return t.match(b)?(e.tokenize=F,"slimId"):t.match(f)?(e.tokenize=F,"slimClass"):G(t,e)}function G(t,e){return t.match(/^([\[\{\(])/)?U(e,c[RegExp.$1],G):t.match(d)?(e.tokenize=H,"slimAttribute"):"*"==t.peek()?(t.next(),e.tokenize=v(W),null):W(t,e)}function H(t,e){return t.match(/^==?/)?(e.tokenize=J,null):G(t,e)}function J(t,e){var n=t.peek();return'"'==n||"'"==n?(e.tokenize=N(n,"string",!0,!1,G),t.next(),e.tokenize(t,e)):"["==n?v(G)(t,e):":"==n?v(K)(t,e):t.match(/^(true|false|nil)\b/)?(e.tokenize=G,"keyword"):v(G)(t,e)}function K(t,e){return t.backUp(1),t.match(/^[^\s],(?=:)/)?(e.tokenize=v(K),null):(t.next(),G(t,e))}function N(t,e,n,i,r){return function(o,a){h(a);var u=0==o.current().length;if(o.match(/^\\$/,u))return u?(x(a,a.indented),"lineContinuation"):e;if(o.match(/^#\{/,u))return u?(a.tokenize=g("}",a.tokenize),null):e;for(var c,s=!1;null!=(c=o.next());){if(c==t&&(i||!s)){a.tokenize=r;break}if(n&&"#"==c&&!s&&o.eat("{")){o.backUp(2);break}s=!s&&"\\"==c}return o.eol()&&s&&o.backUp(1),e}}function W(t,e){return t.match(/^==?/)?(e.tokenize=w,"slimSwitch"):t.match(/^\/$/)?(e.tokenize=V,null):t.match(/^:/)?(e.tokenize=q,"slimSwitch"):(E(t,e,0),e.tokenize(t,e))}var X={startState:function(){return{htmlState:i.startState(e),rubyState:i.startState(n),stack:null,last:null,tokenize:V,line:V,indented:0}},copyState:function(t){return{htmlState:i.copyState(e,t.htmlState),rubyState:i.copyState(n,t.rubyState),subMode:t.subMode,subState:t.subMode&&i.copyState(t.subMode,t.subState),stack:t.stack,last:t.last,tokenize:t.tokenize,line:t.line}},token:function(t,e){if(t.sol())for(e.indented=t.indentation(),e.startOfLine=!0,e.tokenize=e.line;e.stack&&e.stack.indented>e.indented&&"slimSubmode"!=e.last;)e.line=e.tokenize=e.stack.tokenize,e.stack=e.stack.parent,e.subMode=null,e.subState=null;if(t.eatSpace())return null;var n=e.tokenize(t,e);return e.startOfLine=!1,n&&(e.last=n),u.hasOwnProperty(n)?u[n]:n},blankLine:function(t){if(t.subMode&&t.subMode.blankLine)return t.subMode.blankLine(t.subState)},innerMode:function(t){return t.subMode?{state:t.subState,mode:t.subMode}:{state:t,mode:X}}};return X}),"htmlmixed","ruby"),i.defineMIME("text/x-slim","slim"),i.defineMIME("application/x-slim","slim");var o=r,a=Object.freeze(Object.assign(Object.create(null),r,{[Symbol.toStringTag]:"Module",default:o}));export{a as s};
