var e='# IIS (Internet Information Services)\n\nDeploying directus to IIS will require [iisnode](https://github.com/Azure/iisnode), an entrypoint file, and some\nspecific web.config configurations.\n\n# iisnode\n\niisnode can be downloaded from the [azure/iisnode releases](https://github.com/Azure/iisnode/releases) page.\n\n## Entrypoint\n\niisnode acts as a reverse proxy, and simply forwards requests to files based on any rewrite rules and the files\navailable. Since iisnode simply pipes requests to files, running the directus CLI directly won\'t work. To get around\nthis, use an entrypoint script like the `index.js` below.\n\n```js\nvar { default: start } = require(\'directus/dist/start\');\n\nstart();\n```\n\n## web.config\n\nWith an entrypoint created, add a web.config to the root of the project. The following web.config is a simple example of\nrunning directus with iisnode\n\n```xml\n<?xml version="1.0" encoding="utf-8"?>\n<configuration>\n  <location path="." inheritInChildApplications="false">\n    <system.webServer>\n      <handlers>\n        <add name="iisnode" path="index.js" verb="*" modules="iisnode" />\n      </handlers>\n      <iisnode node_env="%node_env%" loggingEnabled="true" enableXFF="true" />\n      <rewrite>\n        <rules>\n          <rule name="root">\n            <match url="*" />\n            <action type="Rewrite" url="index.js" />\n          </rule>\n        </rules>\n      </rewrite>\n    </system.webServer>\n  </location>\n</configuration>\n```\n\nA few important points regarding this file:\n\n1. The iisnode handler `path` parameter is set to the entrypoint filepath\n2. The iisnode handler `verb` parameter is set to handle all verbs (\\*)\n3. The iisnode `node_env` parameter is bound to the environment variable `node_env`\n4. The iisnode `enableXFF` parameter is set to `true`. Since iisnode acts as a reverse proxy, this is required to pass\n   client ip and other details on to the directus server, which directus modules expect and depend on.\n5. the rewrite rule is in place to send all requests made to this site to the entrypoint, ensuring that directus handles\n   the routing and not IIS\n\nWhile there are dozens even hundreds of options within IIS, this should help in getting started with Directus on IIS.\n';export{e as default};
